<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>canvas画图</title>
    <style type="text/css">
        *{
            margin: 0px;
            padding: 0px;
        }
        #myCanvas{
            border: 1px solid black;
            /*width: 500px;*/
            /*height: 500px;*/
        }
    </style>
</head>
<body>
<canvas id="myCanvas"></canvas>
<br>
<input type="button" value="画图" onclick="draw()">
<input type="button" value="操作图形" onclick="oper()">
<input type="button" value="图形的组合与裁切" onclick="connnect_clip()">

<!--<script src="../js/vendor/jquery-3.2.1.min.js"></script>-->
<script type="text/javascript">
    function draw() {
        // 红色矩形
        var c=document.getElementById('myCanvas');
        c.width=500;
        c.height=500;
        var ctx=c.getContext('2d');
        //矩形
        ctx.fillStyle='#ff0000'; //设置背景颜色，默认黑色,必须放在画图前面
        ctx.strokeStyle='#00ff00';  //设置边缘颜色
        ctx.fillRect(20,20,80,80); //x,y的起点，后面两个是画图的宽高
        ctx.strokeRect(15,15,90,90);  //设置边框
        ctx.stroke();

        //一条直线
        // ctx.moveTo(0,0);  //开始点
        // ctx.lineTo(200,200);  //结束点
        // ctx.stroke();  //绘制

        //圆形
        // ctx.fillStyle='#ff0000';   //设置背景色
        // ctx.beginPath();   //开始画圆
        // ctx.arc(100,100,50,0,Math.PI*2,true);  //圆形:起始点坐标,半径,开始角度,结束角度,是否顺时针
        // ctx.closePath();  //结束画图
        // ctx.fill();  //填色
        // ctx.stroke();  //画边缘线

        //三角形
        // ctx.strokeStyle='#ff0000';
        // ctx.beginPath();
        // ctx.moveTo(25,25);
        // ctx.lineTo(160,25);
        // ctx.lineTo(25,160);
        // ctx.closePath();
        // ctx.stroke();

        //二次贝塞尔曲线
        // ctx.lineWidth=6;  //设置线的宽度
        // ctx.strokeStyle='#ff0000';
        // ctx.beginPath();
        // ctx.moveTo(100,250);  //开始点
        // // ctx.quadraticCurveTo(75,50,300,200);  //控制点(两个切线的交汇点)和结束点
        // //三次贝塞尔曲线
        // ctx.bezierCurveTo(231, 80, 283, 379, 409, 210); //两个控制点坐标,和结束点
        // ctx.stroke();
    }
    function oper() {
        var c=document.getElementById('myCanvas');
        c.width=500;
        c.height=500;
        var ctx=c.getContext('2d');
        //矩形
        ctx.fillStyle='#ff0000'; //设置背景颜色，默认黑色,必须放在画图前面
        //移动
        ctx.translate(100,100);  //水平和垂直位移
        //旋转
        ctx.rotate(45*Math.PI/180);  //正数是顺时针旋转,负数是逆时针旋转
        //缩放
        ctx.scale(2,0.9);  //水平放大两倍,垂直变成0.9倍
        ctx.rect(0,0,80,80); //x,y的起点，后面两个是画图的宽高
        ctx.fill();
    }
    function connnect_clip() {
        var c=document.getElementById('myCanvas');
        c.width=500;
        c.height=500;
        var ctx=c.getContext('2d');
        ctx.fillStyle='#ff0000';
        ctx.fillRect(50,25,100,100);

        ctx.globalCompositeOperation='source-out';  //destination-atop\source-atop\lighter\xor\destination-out

        ctx.fillStyle='#0000ff';
        ctx.beginPath();
        ctx.arc(150,125,50,0,Math.PI*2,true);
        ctx.closePath();
        ctx.fill();
    }
</script>
</body>
</html>